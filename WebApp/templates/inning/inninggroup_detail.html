{% load static %}
{% load model_template_relation %}

{% block content %}
<div class="page-header">
    <div class="page-title d-block text-center">
        <h2>Course Allocation Information</h2>
    </div>
</div>
<div class="row">
    <div class="col-lg-5 col-md-8 m-auto">
        <div class="card p-3">
            <ul class="font-weight-bold">
                <li class="p-2">
                    Course Allocation Name : {{ object.InningGroup_Name }}
                </li>
                <li class="p-2">
                    Course Name : {{ object.Course_Code }}
                </li>
                <li class="p-2">
                    Teachers Name :
                    <ul class="ml-3">
                        {% for teachers in object.Teacher_Code.all %}
                        <li>{{ teachers }}</li>
                        {% endfor %}
                    </ul>
                </li>
                <li class="p-2">
                    Register Agent : {% getUser object.Register_Agent as register_agent %}{{ register_agent }}
                </li>
                <li class="p-2">
                    Status : {% if object.Use_Flag %} Active {% else %} Inactive {% endif %}
                </li>
                <li class="p-2 text-center">
                    <a class="btn btn-sm btn-outline-primary mx-2" href="
                    {% if '/teachers' in request.path %}
                        {% url 'teachers_inninggroup_update' object.pk %}
                    {% else %}
                        {{ object.get_update_url }}
                    {% endif %}
                    ">Edit Teacher Allocation</a>
                    <a class="btn btn-sm btn-outline-danger inninggroup-confirm-delete mx-2" id="{{ object.pk }}"
                        href="javascript:void(0)">Delete
                        Teacher Allocation</a>
                    <form method="post" action="{% url 'inninggroup_delete' pk=object.pk %}"
                        id="deleteInningGroup{{ object.pk }}">
                        {% csrf_token %}
                        <input type="hidden" value="{{ object.pk }}" name="inninggroup_id">
                    </form>
                </li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
{% block javascript %}
<script>
    $(document).on('click', '.inninggroup-confirm-delete', function () {
        ans = confirm('Are you sure you want to delete this Teacher Allocation?');
        if (ans == true) {
            $(`#deleteInningGroup${this.id}`).submit();
        } else {
            return false;
        }
    });
</script>
{% endblock %}