{% load static %}

{% block stylesheets %}
<!-- <link href="{% static 'vendorsx/datatables.net-bs/css/dataTables.bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendorsx/datatables.net-buttons-bs/css/buttons.bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendorsx/datatables.net-responsive-bs/css/responsive.bootstrap.min.css' %}" rel="stylesheet"> -->
{% endblock %}

<div class="container">
    <div class="page-section">
        <div class="media v-middle">
            <div class="media-body">
                <h1 class="text-display-1 margin-none">List Of Active Sessions</h1>
            </div>
            <div class="media-right">
                <div class="width-100 text-right">
                    <div class="btn-group">
                        <a class="btn btn-white" id="cardButton""><i class=" fa fa-th"></i></a>
                        <a class="btn btn-white" id="tableButton"><i class=" fa fa-list"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-8 col-md-6 col-sm-12">
            <span class="view-inactive">
                <a href="
                {% if '/mysessions' not in request.path %}
                    {% url 'inninginfo_list_inactive' %}
                {% else %}
                    {% url 'teachers_mysession_list_inactive' %}
                {% endif %}
                ">View Inactive Sessions</a>
            </span>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 btn-createnew">
            {% if request.user.Is_CenterAdmin and '/mysessions' not in request.path %}
            <a class="btn btn-primary" style="float: right;" href="{% url 'inninginfo_create' %}">Register New
                Session</a>
            {% endif %}
        </div>
    </div>
    <br>
    <div class="panel panel-default">
        <div class="table-responsive" id="tableView">
            <table class="table table-striped table-bordered bg-white nowrap" cellspacing="0" width="100%">
                <thead class="thead-light bg-primary">
                    <tr class="tableTitleRow">
                        <td>ID</td>
                        <td>Session Name</td>
                        <td>Student Group</td>
                        <td>No. of Courses</td>
                        <td>Start Date</td>
                        <td>End Date</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tbody>
                    {% for object in object_list %}
                    <tr>
                        <td style="vertical-align: middle;">{{ forloop.counter }}</td>
                        <td style="vertical-align: middle;"><b>
                                <a
                                    href="{% if '/mysessions' not in request.path %}{{ object.get_absolute_url }}{% elif 'mysessions' in request.path %}{% url 'teachers_mysession_detail' object.pk %}{% endif %}">{{ object.Inning_Name }}</a>
                            </b></td>
                        <td style="vertical-align: middle;">{{ object.Groups }}</td>
                        <td style="vertical-align: middle;">{{ object.Course_Group.count }}</td>
                        <td style="vertical-align: middle;">{{ object.Start_Date }}</td>
                        <td style="vertical-align: middle;">{{ object.End_Date }}</td>
                        <td class="text-center"><a class="btn btn-sm btn-info" href="   {% if '/mysessions' not in request.path %}
                                        {{ object.get_absolute_url }}
                                    {% elif 'mysessions' in request.path %}
                                        {% url 'teachers_mysession_detail' object.pk %}
                                    {% endif %}">Edit</a>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div id="cardView" style="display:none;padding: 0;" class="col-md-12 col-sm-12 col-xs-12">
            <br><br><br>
            <div class="container" id="divID">
                {% for object in object_list %}
                <div class="col-md-4 col-sm-6 col-xs-12 card-body" id="listCard">

                    <div class="card-header" style="background: white">
                        <h5 class="card-title"><strong>Session : &nbsp;<a
                                    href="{{ object.get_absolute_url }}">{{ object.Inning_Name }}</a></strong>
                        </h5>
                        <h5 class="card-title"><b>Student Group &nbsp; : </b>&nbsp;{{ object.Groups }}</h5>
                        <h5 class="card-title"><b><u>Courses :</u></b></h5>
                        <span class="card-title">
                            <p style="height:40px; overflow:auto;padding:0 10px">
                                {% for groups in object.Course_Group.all %}
                                {{ groups.Course_Code }}
                                {% endfor %}
                            </p>
                        </span><br>
                        <h5 class="card-title"><b>Start Date : </b>&nbsp;{{ object.Start_Date|date:'Y M d' }}</h5>
                        <h5 class="card-title"><b>End Date : </b>&nbsp;{{ object.End_Date|date:'Y M d' }}</h5>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>