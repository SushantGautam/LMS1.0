{% extends "base.html" %}
{% load static %}
{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'start' %}">Home</a></li>
<li class="breadcrumb-item active" aria-current="page">Members</li>
{% endblock %}
{% block content %}
<div class="page-header">
    <div class="page-title">
        <h2>List of Members</h2>
    </div>
</div>
<div class="row">
    <div class="col-lg-8 col-md-8 col-sm-12">

    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 btn-createnew">
        <a class="btn btn-primary pull-right" href="{% url 'memberinfo_create' %}">Create new Member</a>
    </div>

</div>

<div class="table-responsive">
    <table class="table table-striped" cellspacing="0" width="100%" id="members_list_table">
        <thead>
            <tr>
                <th>S. No.</th>
                <th>Username</th>
                <th>Member ID</th>
                <th>Full Name</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Gender</th>
                <th>Student</th>
                <th>Teacher</th>
                <th>Temporary Address</th>
                <th>Permanent Address</th>
                <th>Birthdate</th>
                <th>Type</th>
                <th>Action</th>
            </tr>
        </thead>
        <!-- <tfoot>
            <tr>
                <th>S. No.</th>
                <th>Username</th>
                <th>Member ID</th>
                <th>Full Name</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Gender</th>
                <th>Student</th>
                <th>Teacher</th>
                <th>Temporary Address</th>
                <th>Permanent Address</th>
                <th>Birthdate</th>
                <th>Type</th>
                <th>Action</th>
            </tr>
        </tfoot> -->
        <tbody>

        </tbody>
    </table>
</div>
{% endblock %}
{% block javascript %}
<script>
    $(document).ready(function () {
        var table_main = $('#members_list_table').DataTable({
            dom: 'lBfrtip',
            stateSave: true,
            responsive: true,
            processing: true,
            serverSide: true,

            ajax: "{% url 'memberinfo_listajax' %}",
            language: {
                "infoFiltered": "",
            },
            order: [],
            buttons: [
                {
                    extend: 'csv',
                    text: '<span class="exportcsv"><i class="fa fa-paper-plane-o"></i> Export to CSV </span>',
                    exportOptions: {
                        columns: [1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]
                    }
                },
                {
                    text: '<span class="exportcsv" data-toggle="modal" data-target="#exampleModal1" id="importcsv-btn"><i class="fa fa-paper-plane fa-rotate-180"></i> Import CSV </span>'
                },
                {
                    extend: 'print',
                    text: '<span class="print"><i class="fa fa-print"></i> Print </span>',
                    fieldSeparator: '\t'
                }],
            "columnDefs": [
                {
                    "targets": [4, 5, 9, 10, 11, 12, 13],
                    "visible": false,
                    "searchable": true,
                },
                {
                    "orderable": false,
                    "targets": [0, 3, 11, 12, 13, 14, 15]
                }

            ]

        });
    })
</script>
{% endblock %}