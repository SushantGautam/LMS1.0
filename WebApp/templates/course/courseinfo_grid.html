{% load static %}
{% load i18n %}

<div class="page-header">
    <div class="page-title">
        <h2>{% trans "Courses" %}</h2>
        <div>
            <a href="{% url 'courseinfo_grid_active' %}" class="btn btn-sm btn-outline-primary mr-2 active" title="Grid"
                data-toggle="tooltip">
                <i class="fa fa-th-large"></i>
            </a>
            <a href="{% url 'courseinfo_list_active' %}" class="btn btn-sm btn-outline-primary " title="List"
                data-toggle="tooltip">
                <i class="fa fa-th-list"></i>
            </a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-8 col-md-8 col-sm-12">
        {% if 'teachers' in request.path %}
        <form method="get" action="" class="query_form">
            <div class="col-md-4 col-sm-6">
                <input type="text" name="teacher_coursequery" placeholder="Search Course"
                    value="{{ request.GET.query }}" class="form-control" required />
            </div>
            <button class="btn btn-default" type="submit">
                <i class="fa fa-search"></i>&nbsp;{% trans "Search" %}
            </button>
        </form>
        {% elif 'students' in request.path %}
        <form method="get" action="" class="query_form">
            <div class="col-md-4 col-sm-6">
                <input type="text" name="coursequery" placeholder="Search Course" value="{{ request.GET.query }}"
                    class="form-control" required />
            </div>
            <button class="btn btn-default" type="submit">
                <i class="fa fa-search"></i>&nbsp;{% trans "Search" %}
            </button>
        </form>
        {% else %}
        <form method="get" action="" class="query_form">
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <input type="text" name="query" placeholder="Search Course" value="{{ request.GET.query }}"
                        class="form-control" required />
                </div>
                <button class="btn btn-default" type="submit">
                    <i class="fa fa-search"></i>&nbsp;{% trans "Search" %}
                </button>
            </div>
        </form>

        {% endif %}
    </div>
    {% if 'students' not in request.path %}
    <div class="col-lg-4 col-md-4 col-sm-12 btn-createnew">
        <a class="btn btn-primary pull-right" href="
            {% if '/teachers' in request.path %}
                {% url 'teacher_courseinfo_create' %}
            {% else %}
                {% url 'courseinfo_create' %}
            {% endif %}">{% trans "Create New Course" %}</a>
    </div>
    {% endif %}
</div>

<div class="row mt-4">
    {% for object in object_list %}
    <div class="col-lg-4 col-sm-6 col-xs-12">
        <div class="card">
            <a href="{{ object.get_absolute_url }}">
                <img src="{% if object.Course_Cover_File %}
            {{ object.Course_Cover_File.url }}
        {% else %}
            {% static 'media/image/course.jpg' %}
        {% endif %}" class="card-img-top" alt="image" width="100%" height="180px" style="object-fit: cover">
            </a>
            <div class="card-body p-3">
                <h5><a href="{{ object.get_absolute_url }}" class="text-primary">{{ object.Course_Name }}</a></h5>
                {% trans "Difficulty" %} :
                {% for i in '12345'|make_list %}
                {% if object.Course_Level >= forloop.counter %}
                <span class="fa fa-fw fa-star text-warning"></span>
                {% else %}
                <span class="fa fa-fw fa-star-o text-warning"></span>
                {% endif %}
                {% endfor %}
                <hr>
                <p class="card-text">
                    {% if object.Course_Description %}
                    {{ object.Course_Description }}
                    {% else %}
                    {% trans "No description" %}
                    {% endif %}
                </p>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 my-3 text-center">
        {% trans "No Course Available" %}
    </div>
    {% endfor %}
</div>