{% extends "teacher_module/base.html" %}
{% load static %}
{% block title %}
Course
{% endblock %}
{% block breadcrumb %}
<li class="breadcrumb-item active" aria-current="page">My Courses</li>
{% endblock %}
{% block content %}
<div class="courseInfoListClass">
    <h2 class="tableHeader">List of My Courses</h2>


    <hr class="header_hr">
    <div class="col-md-8 col-sm-6 col-xs-12">
        <form method="get" action="">
            <div class="col-md-4">
                <input type="text" name="teacher_mycoursequery" placeholder="Search Course"
                    value="{{ request.GET.query }}" class="form-control">
            </div>
            <button class="btn btn-default" type="submit"><i class="fa fa-search"></i>&nbsp;Search</button>

        </form>
    </div>
    <br><br><br>
    <div class="container" id="divID">
        {% include 'WebApp/theme/alerts.html' %}
        {% for courses in courses %}
        <div class="col-md-3 col-sm-6 col-xs-12" id="listCard">
            <div class="gridContentsList">
                <div class="card-header">
                    <a href="{{ courses.Course_Code.teacher_get_absolute_url }}">
                        <img id="courseListImage" class="card-img-top" src="
                            {% if courses.Course_Code.Course_Cover_File %}
                                /media/{{ courses.Course_Code.Course_Cover_File }}
                            {% else %}
                                {% static 'images/course.jpg' %}
                            {% endif %}" alt="Card image cap" width="100%" height="180px" style="object-fit: cover">
                    </a>
                </div>
                <div class="card-body" id="cardInfo">
                    <h2 class="card-title"><strong><a
                                href="{{ courses.Course_Code.teacher_get_absolute_url }}">{{ courses.Course_Code.Course_Name }}</a></strong>
                    </h2>


                    <hr>

                    <h5 class="courseDescription" style="padding-bottom: 10px;">
                        {% if courses.Course_Code.Course_Description %}
                        <p style="padding-left: 10px;
            padding-right: 10px;
            line-height: 1.5em;
            height: 3em;
            overflow-wrap:break-word; 
            overflow: hidden;
            white-space: normal;
            text-overflow: ellipsis;">
                            {{ courses.Course_Code.Course_Description }}
                        </p>
                        {% else %}
                        No Description
                        {% endif %}
                    </h5>

                </div>
            </div>
        </div>

        {% endfor %}
    </div>


</div>
<div class=" text-center">
    {% if is_paginated %}
    <ul class="pagination">
        {% if page_obj.has_previous %}
        <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
        {% else %}
        <li class="disabled"><span>&laquo;</span></li>
        {% endif %}
        {% for i in paginator.page_range %}
        {% if page_obj.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
        {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
        {% endif %}
        {% endfor %}
        {% if page_obj.has_next %}
        <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
        {% else %}
        <li class="disabled"><span>&raquo;</span></li>
        {% endif %}
    </ul>
    {% endif %}
</div>

{% endblock %}