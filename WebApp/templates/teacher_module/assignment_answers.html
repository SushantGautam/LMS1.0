{% extends "teacher_module/base.html" %}
{% load static %}
{% block breadcrumb %}

<li class="breadcrumb-item"><a href="{% url 'teacher_mycourses_list' %}">My Courses</a></li>
<li class="breadcrumb-item"><a href="{% url 'teacher_myassignmentinfo_list' %}">My Assignments</a></li>
<li class="breadcrumb-item"><a
        href="{{Assignment.Course_Code.teacher_get_absolute_url }}">{{ Assignment.Course_Code }}</a>
</li>
<li class="breadcrumb-item"><a
        href="{{Assignment.Chapter_Code.teacher_get_absolute_url }}">{{ Assignment.Chapter_Code }}</a>
</li>

{% for question in questions|slice:":1" %}
<li class="breadcrumb-item"><a
        href="{{question.Assignment_Code.teacher_get_absolute_url }}">{{ question.Assignment_Code }}</a>
</li>

{% endfor %}

<li class="breadcrumb-item active" aria-current="page">Answers</li>
{% endblock %}

{% block content %}

<div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true" id="create_session_modal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">Answer
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </h4>
            </div>
            <div class="modal-body" id="answercontent" style="color: black">
            </div>
        </div>
    </div>
</div>

{% if questions %}
<div style="padding-bottom: 10px;">
    {% for question in questions|slice:":1" %}
    <h4 class="pageHeader"> {{question.Assignment_Code }}</h4>
    {% endfor %}
    <hr class="header_hr">
    {% endif %}
    {% for question in questions %}
    <h5>Question : <br><br> <b>{{ question.Question_Title }}</b></h5>
    <table class="table table-striped table-bordered bg-white nowrap">
        <thead class="thead-light bg-primary">
            <tr class="tableTitleRow">
                <td>S.No.</td>
                <td>Student Name</td>
                <td>Submission</td>

            </tr>
        </thead>

        {% for answer in Answers %}
        {% if question.id == answer.Question_Code.id %}
        <tr>
            <td class="counterCell" style=" padding-top: 15px;"></td>
            <td style=" padding-top: 15px;">{{ answer.Student_Code }}</td>
            <td>{% if answer %}
                Submitted
                {% elif not answer %}
                Not Submitted
                {% endif %}

                <button class="btn btn-sm btn-info showanswer" data-toggle="modal" data-target="#exampleModal1"
                    value="{{answer.id}}" style="float: right;color:black">
                    <b>View Answer</b>
                </button>
            </td>
        </tr>

        {% endif %}
        {% endfor %}

    </table>
    {% endfor %}
</div>





{% endblock content %}
{% block customjss %}
<script>
    $('.showanswer').click(function () {
        {% for answer in Answers %}
        if (this.value == '{{ answer.id }}') {
            $('#answercontent').text('{{answer.Assignment_Answer}}')
        }
        {% endfor %}
    })
</script>
{% endblock %}