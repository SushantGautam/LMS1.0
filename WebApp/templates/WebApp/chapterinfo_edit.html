{% extends "base.html" %}
{% load static %}
{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'start' %}">Home</a></li>
<li class="breadcrumb-item"><a href="
    {% if object.Course_Code.Use_Flag %}
        {% url 'courseinfo_grid_active' %}
    {% else %}
        {% url 'courseinfo_grid_inactive' %}
    {% endif %}
    ">Course</a></li>
<li class="breadcrumb-item"><a href="{{ Course_Code.get_absolute_url }}">{{ Course_Code }}</a></li>
<li class="breadcrumb-item"><a href="{{ object.get_absolute_url }}">{{ object.Chapter_Name }}</a>
</li>
<li class="breadcrumb-item active" aria-current="page">
    {% if '/create/' in request.path %}
    Create New Chapter
    {% else %}
    Edit Chapter
    {% endif %}
</li>

{% endblock %}
{% block content %}
<div class="page-header">
    <div class="page-title d-block text-center">
        <h2>{% if 'create' in request.path %}
            Create New{% elif 'edit' in request.path %}
            Edit {% endif %}
            Chapter</h2>
    </div>
</div>
<div class="row">
    <div class="col-lg-8 col-md-12" style="margin:auto">
        <div class="card">
            <div class="card-body">
                <form method="post" id="ajaxchapterinfoform">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="id_Chapter_No" class="font-weight-bold">Chapter No.</label>
                                <input type="number" class="form-control" name="Chapter_No" id="id_Chapter_No"
                                    placeholder="Enter Chaper Number" value="{{object.Chapter_No}}" required>
                            </div>
                        </div>
                        <div class="col-lg-8">
                            <div class="form-group">
                                <label for="id_Chapter_Name" class="font-weight-bold">Chapter Name</label>
                                <input type="text" class="form-control" name="Chapter_Name" id="id_Chapter_Name"
                                    placeholder="Enter Chaper Number" value="{{object.Chapter_Name}}" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="id_Summary" class="font-weight-bold">Summary</label>
                        <textarea name="Summary" id="id_Summary" class="form-control"
                            rows="10">{{object.Summary}}</textarea><span class="ma-form-highlight"></span><span
                            class="ma-form-bar"></span>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="Start_Date" class="font-weight-bold">Start Date</label>
                                <input name="Start_Date" type="date" class="form-control" id="id_Start_Date"
                                    max="9999-12-31" value="{{ object.Start_Date }}">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="End_Date" class="font-weight-bold">End Date</label>
                                <input name="End_Date" type="date" class="form-control" id="id_End_Date"
                                    max="9999-12-31" value="{{ object.End_Date }}">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7">
                            <div class="form-group">
                                <label for="id_mustreadtime" class="font-weight-bold">Running Time (in minutes)</label>
                                <input type="number" class="form-control" name="mustreadtime" id="id_mustreadtime"
                                    placeholder="Enter Running Time for Chapter" value="{{object.mustreadtime}}"
                                    required>
                            </div>
                        </div>
                        <div class="col-lg-5 text-center">
                            <label for="id_Use_Flag" class="font-weight-bold">Publish</label><br>
                            <input type="checkbox" name="Use_Flag" id="id_Use_Flag" class="checkboxinput"
                                {% if object.Use_Flag %}checked{% endif %}>
                        </div>
                    </div>
                    <input type="hidden" name="Register_Agent" id="id_Register_Agent" value="{{ request.user }}"
                        class="select form-control">
                    <input type="hidden" name="Course_Code" id="id_Course_Code" value="{{ Course_Code.id }}"
                        class="select form-control">
                    <div class="text-center pt-3">
                        <button type="submit" class="btn btn-primary" style="margin:auto">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


{% endblock %}
{% block javascript %}
<script>
    document.getElementById('id_mustreadtime').value = document.getElementById('id_mustreadtime').value / 60
</script>
{% endblock %}