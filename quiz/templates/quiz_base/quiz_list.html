{% load i18n %}
<div class="d-flex justify-content-between mb-3">
    <h2 class="text-primary">{% trans "List of quizzes" %}</h2>
    {% if not '/teachers' in request.path %}
    <a class="icon-quiz-list btn btn-primary " href="{% url 'quizfw' %}">
        <i data-feather="plus"></i>&nbsp;{% trans 'Create Quiz' %}

    </a>
    {% elif '/teachers' in request.path %}
    <a class="icon-quiz-list btn btn-primary " href="{% url 'teacher_quizfw' %}">
        <i data-feather="plus"></i>&nbsp;{% trans 'Create Quiz' %}
    </a>
    {% endif %}
</div>

<!-- <h2>{% trans "List of quizzes" %}</h2> -->
{% if quiz_list %}
    <table id="QuizTable" class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>{% trans "Type" %}</th>
                <th>{% trans "Title" %}</th>
                <th>{% trans "Course " %}</th>
                <th>{% trans "Chapter" %}</th>
                <th>{% trans "No. of Questions" %}</th>
                <th>{% trans "Attempt Type" %}</th>
                <th>{% trans "Updated On" %}</th>
                <th>{% trans "Status" %}</th>
                <th>{% trans "Action" %}</th>
            </tr>
        </thead>
        <tbody>

        {% for quiz in quiz_list %}
        {% if not quiz.exam_paper %}
            <tr>
                <td>{% if quiz.pre_test %}
                    <b>Pre Test</b> <br>
                    {% endif %}
                    {% if quiz.post_test %}
                    Post Test <br>
                    {% endif %}
                    {% if quiz.exam_paper %}
                    Exam <br>
                    {% endif %}
                </td>
                <td>{{ quiz.title }}</td>
                <td>{{ quiz.course_code }}</td>
                <td>{{ quiz.chapter_code }}</td>
                <td>{{ quiz.question_count }}</td>
                <td>{% if quiz.single_attempt %}
                    Single Attempt <br>
                    {% endif %}
                </td>
                <td class="datecon_new">
                    {{ quiz.updated_date|date:'M d, Y H:i' }}
                </td>
                <td>{% if quiz.draft is True %}
                    <span class="badge badge-danger">Inactive</span>
                    {% else %}
                    <span class="badge badge-success">Active</span>
                    {% endif %}
                </td>
                <td>
                    <a href="
                            {% if '/teachers' in request.path %}
                                {% url 'teacher_quiz_detail' pk=quiz.id %} 
                                {% else %}
                                {% url 'quiz_detail' pk=quiz.id %} 
                                {% endif %}
                            ">
                            <span class="text-primary"> <b>{% trans "View details" %}</b>
                            </span>
                        
                    </a>
                </td>
            </tr>
        {% endif %}
        {% endfor %}
        </tbody>

    </table>

{% else %}
    <p>{% trans "There are no available quizzes" %}.</p>
{% endif %}